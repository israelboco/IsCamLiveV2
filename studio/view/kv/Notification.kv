<ConnectLiveBox>
    size_hint_y: None
    app: app
    height: dp(100)
    MDScrollView:

        MDBoxLayout:
            orientation: "vertical"
            size_hint_y: 1

            MDBoxLayout:
                orientation: "horizontal"
                adaptive_height: True

                MDLabel:
                    text: "[b][color=#4287f5]Connexion sur le réseau local [/color][/b]"
                    markup: True
                    halign: "left"
                 
                MDRectangleFlatButton:
                    id: demarrer
                    text: "Démarrer"
                    md_bg_color: '#676767'
                    on_release:
                        root.demarrer()

<ConnectLiveReseauBox>
    size_hint_y: None
    height: dp(70)
    MDScrollView:

        MDBoxLayout:
            orientation: "vertical"
            size_hint_y: 1

            MDBoxLayout:
                orientation: "horizontal"
                adaptive_height: True

                MDLabel:
                    text: "[b][color=#4287f5] Connexion sur le réseau local [/color][/b]"
                    markup: True
                    halign: "left"
                   
                MDRectangleFlatButton:
                    id: demarrer
                    text: "Démarrer"
                    size_hint: .3, .065
                    # pos_hint: {"center_x": .5, "center_y": .18}
                    background_color: 0, 0, 0, 0
                    canvas.before:
                        Color:
                            rgb: rgba(52, 0, 231, 255)
                        RoundedRectangle:
                            size: self.size
                            pos: self.pos
                            radius: [5]



<AddCamBox>:
    app: app
    lien: lien
    size_hint_y: None
    height: dp(100)

    MDBoxLayout:
        id: content_add_cam
        orientation: "vertical"
        md_bg_color: "#676767"
        padding: "10dp"
        spacing: "5dp"
        # size_hint_y: 0
        # opacity: 0.0

        MDBoxLayout:
            orientation: "horizontal"
            spacing: "5dp"
            padding: "5dp"

            MDSpinner:
                id: spinner
                size_hint: None, None
                size: dp(20), dp(20)
                active: False
                pos_hint: {'center_y': .5}
            
            IconButtonAction:
                icon: "file-upload-outline"
                icon_size: dp(20)
                icon_color: "#4287f5"
                theme_icon_color: "Custom"
                on_release:
                    root.file_manager_open()

            IconButtonAction:
                id: list_camera
                icon: "camera-outline"
                icon_size: dp(20)
                icon_color: "#4287f5"
                theme_icon_color: "Custom"
                on_release: app.listcamera()

            ClickableTextFieldRound:
                id: lien
                size_hint_x: None
                width: content_add_cam.width / 2
                hint_text: "Video source"

        MDBoxLayout:
            orientation: "horizontal"
            padding: dp(5)

            MDTextField:
                id: source_audio
                hint_text: 'Audio source'
                size_hint_x: .5
            
            MDBoxLayout:
                orientation: "horizontal"
                spacing: dp(2)
            
                MDCheckbox:
                    group: "lien"
                    id: check_ipwebcam
                    size_hint: None, None
                    size: dp(20), dp(20)
                    # on_active: root.on_checkbox_active("Objet", self.active)

                MDLabel:
                    text: "[color=#4287f5]IPWebCam[/color]"
                    font_size: dp(10)
                    adaptive_width: True
                    markup: True

            MDBoxLayout:
                orientation: "horizontal"
                spacing: dp(2)

                MDCheckbox:
                    id: check_ip
                    group: "lien"
                    size_hint: None, None
                    size: dp(20), dp(20)
                    # on_active: root.on_checkbox_active("Objet", self.active)

                MDLabel:
                    text: "[color=#4287f5]IP[/color]"
                    font_size: dp(10)
                    adaptive_width: True
                    markup: True
                
            MDBoxLayout:
                orientation: "horizontal"
                spacing: dp(2)
                
                MDCheckbox:
                    id: check_video
                    group: "lien"
                    size_hint: None, None
                    size: dp(20), dp(20)
                    # on_active: root.on_checkbox_active("Objet", self.active)

                MDLabel:
                    text: "[color=#4287f5]Video[/color]"
                    font_size: dp(10)
                    adaptive_width: True
                    markup: True
                



<ClickableTextFieldRoundCam>:
    size_hint_y: None
    height: text_field.height
    padding: dp(10)
      
    MDTextField:
        id: text_field
        hint_text: root.hint_text
        icon_left: "magnify"
        font_size: dp(10)
        icon_left_color_normal: "#4287f5"
        icon_left_color_focus: "#4287f5"
        hint_text_color_normal: "#4287f5"
        text_color_normal: "#4287f5"
        line_color_focus: "#4287f5"
        line_color_normal: "#4287f5"
        text: root.text
        helper_text_mode: "on_focus"    
        size_hint_x: None
        width: dp(250) 
        on_text: 
            root.text = self.text

    IconButtonAction:
        icon: "file-upload-outline"
        icon_size: dp(20)
        style: "tonal"
        theme_bg_color: "Custom"
        theme_icon_color: "Custom"
        icon_color: "#4287f5"
        unfocus_color: '#262626'
        pos_hint: {"center_y": .5}
        pos: text_field.width - self.width + dp(5), 0
        theme_text_color: "Hint"
        on_release: 
            root.file_manager_open()
            # asynckivy.start(app.on_start_video()) 

<ParamBox>:
    app: app
    size_hint_y: None
    height: dp(100)
    # width: dp(100)

    MDScrollView:

        MDBoxLayout:
            orientation: 'vertical'
            size_hint_y: 1
            # adaptive_height: True

            MDBoxLayout:
                orientation: 'horizontal'
                padding: dp(10)
                spacing: dp(10)

                MDTextField:
                    id: text_field
                    hint_text: 'stockage'
                    font_size: dp(10)
                    icon_left_color_normal: "#4287f5"
                    icon_left_color_focus: "#4287f5"
                    hint_text_color_normal: "#4287f5"
                    text_color_normal: "#4287f5"
                    line_color_focus: "#4287f5"
                    line_color_normal: "#4287f5"
                    text: 'root.text'
                    helper_text_mode: "on_focus"

                IconButtonAction:
                    icon: "import"
                    icon_size: dp(20)
                    style: "tonal"
                    theme_bg_color: "Custom"
                    theme_icon_color: "Custom"
                    icon_color: "#4287f5"
                    pos_hint: {"center_y": .5}
                    on_release: 
                        root.folder_manager_open()

            # MDRectangleFlatButton:
            #     text: 'Enregistrer'
            #     pos_hint: {"center_y": .5}
            #     on_release: 
                # root.file_manager_open()


<DetectPerson>
    size_hint_y: None
    height: dp(150)
    MDScrollView:

        MDBoxLayout:
            orientation: 'vertical'
            size_hint_y: 1.2

            MDTextField:
                id: face
                hint_text: "Face en %"
                icon_left: "face-recognition"
                font_size: dp(15)
                text: "20"
                icon_left_color_normal: "#4287f5"
                icon_left_color_focus: "#4287f5"
                hint_text_color_normal: "#4287f5"
                text_color_normal: "#4287f5"
                line_color_focus: "#4287f5"
                line_color_normal: "#4287f5"
                helper_text_mode: "on_focus"  
                helper_text_mode: "on_error"
                on_text: root.validate_float(self)

            MDTextField:
                id: profile
                hint_text: "Profile en %"
                icon_left: "face-man-profile"
                font_size: dp(15)
                text: "20"
                icon_left_color_normal: "#4287f5"
                icon_left_color_focus: "#4287f5"
                hint_text_color_normal: "#4287f5"
                text_color_normal: "#4287f5"
                line_color_focus: "#4287f5"
                line_color_normal: "#4287f5"
                helper_text_mode: "on_focus"  
                helper_text_mode: "on_error"
                on_text: root.validate_float(self)   
            
            MDTextField:
                id: eye
                hint_text: "Yeux en %"
                icon_left: "eye"
                font_size: dp(15)
                text: "20"
                icon_left_color_normal: "#4287f5"
                icon_left_color_focus: "#4287f5"
                hint_text_color_normal: "#4287f5"
                text_color_normal: "#4287f5"
                line_color_focus: "#4287f5"
                line_color_normal: "#4287f5"
                helper_text_mode: "on_focus"  
                helper_text_mode: "on_error"
                on_text: root.validate_float(self)