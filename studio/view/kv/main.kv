<ScreenMain>:
    md_bg_color: "#262626"

    MDBoxLayout:
        orientation: "horizontal"

        MDBoxLayout:
            orientation: "vertical"
            md_bg_color: "#484848"
            spacing: "10dp"
            padding: "10dp"

            MDBoxLayout:
                orientation: "horizontal"
                md_bg_color: "#676767"
                adaptive_height: True
                padding: "10dp"
                spacing: "5dp"
                pos_hint: {"center_y": .96}

                MDSpinner:  
                    size_hint: None, None
                    size: dp(20), dp(20)
                    pos_hint: {'center_x': .5, 'center_y': .5}
                    active: False

                MDTextField:
                    id: lien
                    hint_text: "source"
                    mode: 'rectangle'


                MDIconButton:
                    icon: "menu"

                MDIconButton:
                    icon: 'content-save'
                    style: "tonal"
                    theme_bg_color: "Custom"
                    md_bg_color: "#7dff9e"
                    theme_icon_color: "Custom"
                    icon_color: "green"

            CardImage:
                id: tt
                pos_hint: {"center_x": .5, "center_y": .5}
                size_hint: .9, .5

            CardAudio:
                md_bg_color: "#676767"
                pos_hint: {"center_x": .5, "center_y": .12}
                size_hint_y: .07


        MDBoxLayout:
            md_bg_color: "#484848"
            padding: dp(10)
            spacing: dp(10)

            MDTabs:
                id: tabs
                on_ref_press: app.on_ref_press(*args)


<CardImage>:
    md_bg_color: "#676767" #ffffff
    padding: "10dp"
    spacing: "5dp"
    radius: 24
    image: image

    MDBoxLayout:
        md_bg_color: "#676767"
        orientation: "vertical"

        Image:
            id: image
            size_hint: None, None
            width: root.width - dp(80)
            height: root.height - dp(80)
            pos_hint: {"center_x": .5, "center_y": .5}

        MDBoxLayout:
            orientation: "horizontal"
            md_bg_color: "#676767"
            radius: 24

            MDIconButton:
                icon: "play"
                size_hint_x: .1
                pos_hint:{"center_y": .5}

            MDIconButton:
                icon: "stop"
                size_hint_x: .1
                pos_hint:{"center_y": .5}

            MDSlider:
                size_hint_x: .6
                pos_hint:{"center_y": .5}
                hint: True

            MDLabel:
                text: "00:00"
                size_hint_x: .2
                pos_hint:{"center_y": .5}


<CardAudio>
    #lien: lien
    MDBoxLayout:
        orientation: "vertical"

        MDLabel:
            adaptive_height: True
            halign: "center"
            text: "Piste Audio"
            font_size: "15sp"

        MDBoxLayout:
            orientation: "horizontal"
            # md_bg_color: "#262626"
            radius: 24

            MDIconButton:
                icon: "play"
                adaptive_height: True
                size_hint: .1, .4
                pos_hint:{"center_y": .5}

            MDIconButton:
                icon: "stop"
                adaptive_height: True
                size_hint: .1, .4
                pos_hint:{"center_y": .5}

            MDSlider:
                size_hint_x: .6
                pos_hint:{"center_y": .5}
                hint: True

            MDLabel:
                text: "00:00"
                size_hint_x: .2
                pos_hint:{"center_y": .5}
                valign: "center"



<Tab>
    MDBoxLayout:
        md_bg_color: "#676767"
        orientation: "vertical"
        pos_hint: {"center_y": .9}
        adaptive_height: True
        padding: "5dp"
        size_hint_y: .15

        MDBoxLayout:
            orientation: "horizontal"
            adaptive_height: True
            spacing: "5dp"

            MDIconButton:
                icon: "plus"
                on_release:
                    app.add_tab()

            MDSpinner:
                id: spinner
                size_hint: None, None
                size: dp(20), dp(20)
                pos_hint: {'center_x': .5, 'center_y': .5}
                active: False

            MDTextField:
                id: source
                hint_text: "source"
                mode: 'rectangle'
                on_text: root.on_text()
                # phone_mask: "phone"

            MDIconButton:
                icon: 'folder'

        MDBoxLayout:
            orientation: "horizontal"
            adaptive_height: True
            spacing: "5dp"

            MDIconButton:
                icon: "menu"

            MDIconButton:
                icon: 'content-save'

            MDIconButton:
                icon: "crop-landscape"


    CardImage:
        id: cardImage
        pos_hint: {"center_x": .5, "center_y": .5}
        size_hint: .7, .5

    CardAudio:
        id: cardAudio
        md_bg_color: "#676767"
        pos_hint: {"center_x": .5, "center_y": .12}
        size_hint_y: .1